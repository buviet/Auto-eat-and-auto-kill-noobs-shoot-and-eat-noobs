local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create the main ScreenGui
local mainGui = Instance.new("ScreenGui")
mainGui.Name = "CombinedUI"
mainGui.Parent = playerGui

-- Settings UI (toggle button, save, clear)
local settingsGui = Instance.new("ScreenGui")
settingsGui.Name = "SettingsGui"
settingsGui.Parent = mainGui
settingsGui.Enabled = false

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 250) -- Increased height for new buttons
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -125) -- Adjusted position
mainFrame.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.new(0.5, 0.5, 0.5)
mainFrame.Parent = settingsGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "TitleLabel"
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Settings"
titleLabel.TextColor3 = Color3.new(1, 1, 1)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 20
titleLabel.Parent = mainFrame

local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0.8, 0, 0, 30)
toggleButton.Position = UDim2.new(0.1, 0, 0.2, 0)
toggleButton.BackgroundColor3 = Color3.new(0.4, 0.4, 0.4)
toggleButton.Text = "Toggle Feature: Off"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 16
toggleButton.Parent = mainFrame
local toggleCorner = Instance.new("UICorner", toggleButton)
toggleCorner.CornerRadius = UDim.new(0.2, 0)

local toggleState = false

toggleButton.MouseButton1Click:Connect(function()
    toggleState = not toggleState
    if toggleState then
        toggleButton.Text = "Toggle Feature: On"
        print("Feature Enabled")
    else
        toggleButton.Text = "Toggle Feature: Off"
        print("Feature Disabled")
    end
end)

local saveButton = Instance.new("TextButton")
saveButton.Name = "SaveButton"
saveButton.Size = UDim2.new(0.4, 0, 0, 30)
saveButton.Position = UDim2.new(0.1, 0, 0.8, 0)
saveButton.BackgroundColor3 = Color3.new(0.4, 0.6, 0.4) -- Greenish
saveButton.Text = "Save Data"
saveButton.TextColor3 = Color3.new(1, 1, 1)
saveButton.Font = Enum.Font.SourceSansBold
saveButton.TextSize = 16
saveButton.Parent = mainFrame
local saveCorner = Instance.new("UICorner", saveButton)
saveCorner.CornerRadius = UDim.new(0.2, 0)

saveButton.MouseButton1Click:Connect(function()
    print("Saving Data...")
    -- Add your save data functionality here
end)

local clearButton = Instance.new("TextButton")
clearButton.Name = "ClearButton"
clearButton.Size = UDim2.new(0.4, 0, 0, 30)
clearButton.Position = UDim2.new(0.5, 0, 0.8, 0)
clearButton.BackgroundColor3 = Color3.new(0.7, 0.4, 0.4) -- Reddish
clearButton.Text = "Clear Data"
clearButton.TextColor3 = Color3.new(1, 1, 1)
clearButton.Font = Enum.Font.SourceSansBold
clearButton.TextSize = 16
clearButton.Parent = mainFrame
local clearCorner = Instance.new("UICorner", clearButton)
clearCorner.CornerRadius = UDim.new(0.2, 0)

clearButton.MouseButton1Click:Connect(function()
    print("Clearing Data...")
    -- Add your clear data functionality here
end)

local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.BackgroundColor3 = Color3.new(0.7, 0.2, 0.2)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Font = Enum.Font.SourceSansBold
closeButton.TextSize = 18
closeButton.Parent = mainFrame
local closeCorner = Instance.new("UICorner", closeButton)
closeCorner.CornerRadius = UDim.new(0.5, 0)

closeButton.MouseButton1Click:Connect(function()
    settingsGui.Enabled = false
end)

-- Open Settings Button (Gear Shape)
local openSettingsButton = Instance.new("ImageButton")
openSettingsButton.Name = "OpenSettingsButton"
openSettingsButton.Size = UDim2.new(0, 30, 0, 30)
openSettingsButton.Position = UDim2.new(0.95, -35, 0.05, 0)
openSettingsButton.BackgroundColor3 = Color3.new(1, 1, 1)
openSettingsButton.BackgroundTransparency = 1
openSettingsButton.Image = "rbxassetid://144211158" -- Replace with your gear image asset ID
openSettingsButton.Parent = mainGui

openSettingsButton.MouseButton1Click:Connect(function()
    settingsGui.Enabled = true
end)

-- Main Button UI Frame (Left Side)
local mainButtonFrame = Instance.new("Frame")
mainButtonFrame.Name = "MainButtonFrame"
mainButtonFrame.Size = UDim2.new(0, 300, 0, 200)
mainButtonFrame.Position = UDim2.new(0.05, 0, 0.5, -100)
mainButtonFrame.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
mainButtonFrame.BorderSizePixel = 2
mainButtonFrame.BorderColor3 = Color3.new(0.5, 0.5, 0.5)
mainButtonFrame.Parent = mainGui

-- Auto Eat Button
local autoEatButton = Instance.new("TextButton")
autoEatButton.Name = "AutoEatButton"
autoEatButton.Size = UDim2.new(0.8, 0, 0, 30)
autoEatButton.Position = UDim2.new(0.1, 0, 0.1, 0)
autoEatButton.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
autoEatButton.Text = "Auto Eat"
autoEatButton.TextColor3 = Color3.new(1, 1, 1)
autoEatButton.Font = Enum.Font.SourceSansBold
autoEatButton.TextSize = 16
autoEatButton.Parent = mainButtonFrame
local autoEatCorner = Instance.new("UICorner", autoEatButton)
autoEatCorner.CornerRadius = UDim.new(0.2, 0)

autoEatButton.MouseButton1Click:Connect(function()
    print("Auto Eat clicked!")
    -- Add your Auto Eat functionality here
end)

-- Auto Shoot Button
local autoShootButton = Instance.new("TextButton")
autoShootButton.Name = "AutoShootButton"
autoShootButton.Size = UDim2.new(0.8, 0, 0, 30)
autoShootButton.Position = UDim2.new(0.1, 0, 0.
