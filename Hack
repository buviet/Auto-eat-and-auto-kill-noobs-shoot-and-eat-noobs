local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create the ScreenGui
local settingsGui = Instance.new("ScreenGui")
settingsGui.Name = "SettingsGui"
settingsGui.Parent = playerGui
settingsGui.Enabled = false -- Starts hidden

-- Create the main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 200)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
mainFrame.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2) -- Dark gray
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.new(0.5, 0.5, 0.5)
mainFrame.Parent = settingsGui

-- Create the title Label
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "TitleLabel"
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Settings"
titleLabel.TextColor3 = Color3.new(1, 1, 1) -- White
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 20
titleLabel.Parent = mainFrame

-- Create the toggle button
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0.8, 0, 0, 30)
toggleButton.Position = UDim2.new(0.1, 0, 0.2, 0)
toggleButton.BackgroundColor3 = Color3.new(0.4, 0.4, 0.4)
toggleButton.Text = "Toggle Feature: Off"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 16
toggleButton.Parent = mainFrame

local toggleState = false

toggleButton.MouseButton1Click:Connect(function()
    toggleState = not toggleState
    if toggleState then
        toggleButton.Text = "Toggle Feature: On"
        print("Feature Enabled") -- Replace with your feature's functionality
    else
        toggleButton.Text = "Toggle Feature: Off"
        print("Feature Disabled") -- Replace with your feature's functionality
    end
end)

-- Create the close button
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.BackgroundColor3 = Color3.new(0.7, 0.2, 0.2) -- Reddish
closeButton.Text = "X"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Font = Enum.Font.SourceSansBold
closeButton.TextSize = 18
closeButton.Parent = mainFrame

closeButton.MouseButton1Click:Connect(function()
    settingsGui.Enabled = false
end)

-- Function to open the settings
local function openSettings()
    settingsGui.Enabled = true
end

-- Example button to open the settings. You'll need to create this in your own script.
local openSettingsButton = Instance.new("TextButton")
openSettingsButton.Name = "OpenSettingsButton"
openSettingsButton.Size = UDim2.new(0, 100, 0, 30)
openSettingsButton.Position = UDim2.new(0.05, 0, 0.05, 0)
openSettingsButton.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
openSettingsButton.Text = "Settings"
openSettingsButton.TextColor3 = Color3.new(1, 1, 1)
openSettingsButton.Font = Enum.Font.SourceSansBold
openSettingsButton.TextSize = 16
openSettingsButton.Parent = playerGui

openSettingsButton.MouseButton1Click:Connect(openSettings)
